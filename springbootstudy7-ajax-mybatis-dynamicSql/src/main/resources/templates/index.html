<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<title>index</title>
</head>
<body>
<div class="container pt-4">
<!--/* thymeleaf class*/-->
<h4 th:text="${message}">message</h4><br>
<!--/* ajax data를 json object로 응답받아 처리 */-->
<button type="button" id="AjaxBtn1">AjaxTest1</button>
<button type="button" id="AjaxBtn2">AjaxTest2</button>
<button type="button" id="AjaxBtn3">AjaxTest3</button>
<button type="button" id="AjaxBtn4">AjaxTest4</button>
<!-- /* error 처리 test */-->
<form method="post" action="test">
	<button type="submit">테스트</button>
</form>
<br><br>
<!--/* Dynamic SQL, json array */-->
<a href="" th:href="@{/employeeAjaxTest}">test1</a>
<br><br>
<!--/* thymeleaf를 이용하여 controller에서 html 요소를 응답받아 처리 */-->
<a href="" th:href="@{/employeeAjaxTest2}">test2</a>
<br><br>
<script type="text/javascript">
	$(function(){
		$("#AjaxBtn1").click(function(){
			$.ajax({
				type:"get",
				url: "testAjax",
				data: "userId=spring",
				success: function(result){
					alert(result);
				}
			}); //ajax
		}); //button click
		
		$("#AjaxBtn2").click(function(){
			$.ajax({
				type:"get",
				url: "findDepartmentByNo",
				dataType : "json",
				data: "departmentNo=10",
				success: function(department){
					alert(department.departmentName);
				}
			}); //ajax
		}); //button click
		
		$("#AjaxBtn3").click(function(){
			$.ajax({
				type:"get",
				url: "findDepartmentMapByNo",
				dataType : "json",
				data: "departmentNo=10",
				success: function(department){
					alert(department.LOCATION);
				}
			}); //ajax
		}); //button click
		
		$("#AjaxBtn4").click(function(){
			$.ajax({
				type:"get",
				url: "findAllDepartmentList",
				dataType : "json",
				success: function(departmentList){
					for(let i=0;i<departmentList.length;i++){
						alert(departmentList[i].departmentName);
					}
				}
			}); //ajax
		}); //button click
	}); //entire function
</script>
</div>
</body>
</html>